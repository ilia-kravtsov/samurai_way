"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[937],{1937:function(e,s,a){a.r(s),a.d(s,{default:function(){return O}});var t=a(885),n=a(2791),i="Messages_messagesContainer__y9gWk",r="Messages_messagesItems__xZiOP",c="Messages_messagesContent__6A+DZ",l="Messages_ulMessagesContent__y7pWW",g="Messages_messBodyBlock__+vueo",u="MessageStyle_txtAndAvaMe__6atf5",o="MessageStyle_txtAndAvaHim__20QJ2",m="MessageStyle_txtAndAvaMeNew__HiC8M",d="MessageStyle_txtMe__Y7icP",_="MessageStyle_txtHim__VOzLa",M="MessageStyle_deleteIcon__Jzu4j",x="MessageStyle_avaMe__d+y18",y="MessageStyle_avaHim__Xq2M0",h="MessageStyle_angleMe__6YhUA",N="MessageStyle_angleHim__Y5NGK",C=a(3400),f=a(7247),p=a(1286),w=a(2817),A=a(184),v=function(e){var s=e.message,a=e.changeMessage,i=e.editMode,r=e.setEditMode,c=(0,n.useState)(s),l=(0,t.Z)(c,2),g=l[0],u=l[1],o=function(){a(g),r(!1)};return i?(0,A.jsx)(w.Z,{onBlur:o,onKeyUp:function(e){return"Enter"===e.key&&o()},autoFocus:!0,value:g,onChange:function(e){u(e.currentTarget.value)},variant:"standard",sx:{width:"120px"}}):(0,A.jsx)("span",{onDoubleClick:function(){return r(!0)},className:"editSpan",children:s})},j=function(e){var s=(0,n.useState)(!1),a=(0,t.Z)(s,2),i=a[0],r=a[1],c=u,l=d,g=x,w=h,j="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKrBK-eMr3u6DP0wzI2zNVrOGDizdwug_pNA&usqp=CAU";1===e.index&&(c=o,l=_,g=y,w=N,j="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQd0qLgeb3w2s-sisWSBmrv9J9Y_bLYVz0kOg&usqp=CAU"),e.index>1&&(c=m);return(0,A.jsxs)("li",{className:c,children:[(0,A.jsxs)("div",{className:l,children:[(0,A.jsx)(v,{message:e.message,changeMessage:function(s){e.changeMessage(s,e.id)},editMode:i,setEditMode:r}),c!==o?(0,A.jsxs)("div",{children:[(0,A.jsx)(C.Z,{onClick:function(){e.onDelClickCallback(e.id)},color:"primary",className:M,children:(0,A.jsx)(f.Z,{})}),(0,A.jsx)(C.Z,{onClick:function(){r(!0)},color:"primary",className:M,children:(0,A.jsx)(p.Z,{})})]}):(0,A.jsx)("div",{})]}),(0,A.jsx)("div",{className:w}),(0,A.jsx)("img",{src:j,alt:"Groot",className:g})]})},S=a(9647),k=a(9271),b="MessageSender_container__1ARPw",D="MessageSender_textareaS__s6BQs",Z="MessageSender_btnS__wCWix",q=a(2419),z=function(e){return(0,A.jsxs)("div",{className:b,children:[(0,A.jsx)(w.Z,{className:D,onChange:function(s){e.setMyNewMessageAC(s.currentTarget.value)},onKeyDown:function(s){"Enter"===s.key&&e.myNewMessageText.trim()&&e.addMyNewMessageAC(e.myNewMessageText)},value:e.myNewMessageText,label:"Enter your message",variant:"outlined",multiline:!0,maxRows:4,sx:{w:"70%"},InputProps:{sx:{height:"8vh"}}}),(0,A.jsx)(C.Z,{onClick:function(){e.myNewMessageText.trim()&&e.addMyNewMessageAC(e.myNewMessageText)},sx:{w:"70%",borderRadius:"5px"},className:Z,size:"medium",color:"primary",children:(0,A.jsx)(q.Z,{})})]})},P=a(1523),I="MessageItemStyle_itemLinkImg__cgLtq",T="MessageItemStyle_active__Ya-oI",G="MessageItemStyle_ava__LgZqD",L=function(e){var s="/messages/"+e.name;return(0,A.jsxs)(P.OL,{to:s,activeClassName:T,className:I,children:[(0,A.jsx)("img",{src:e.photoSrc,alt:"Groot",className:G}),e.name]})},B=function(e){var s=(0,S.u)(),a=(0,t.Z)(s,1)[0],u=e.users.map((function(e,s){var a=4===s?"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQd0qLgeb3w2s-sisWSBmrv9J9Y_bLYVz0kOg&usqp=CAU":e.photos.small?e.photos.small:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRKrBK-eMr3u6DP0wzI2zNVrOGDizdwug_pNA&usqp=CAU";return(0,A.jsx)(L,{id:e.id,photoSrc:a,name:e.name},e.id)})),o=e.messagesPage.messageData.map((function(s,a){return(0,A.jsx)(j,{id:s.id,message:s.message,onDelClickCallback:e.onDelClickCallback,changeMessage:e.changeMyMessageAC,index:a},s.id)})),m=(0,n.useRef)(null);return(0,n.useEffect)((function(){m.current&&(m.current.scrollTop=Math.ceil(m.current.scrollHeight-m.current.clientHeight))}),[e.messagesPage.messageData]),!1===e.isAuth?(0,A.jsx)(k.l_,{to:"/login"}):(0,A.jsxs)("div",{className:i,children:[(0,A.jsx)("div",{className:r,children:u}),(0,A.jsxs)("div",{className:g,children:[(0,A.jsx)("div",{className:c,ref:m,children:(0,A.jsx)("ul",{ref:a,className:l,children:o})}),(0,A.jsx)(z,{myNewMessageText:e.messagesPage.myNewMessageText,addMyNewMessageAC:e.addMyNewMessageAC,setMyNewMessageAC:e.setMyNewMessageAC})]})]})},W=a(8750),Y=a(364),H=a(2163),K=a(4951),O=(0,Y.$j)((function(e){return{messagesPage:e.messagesPage,isAuth:e.auth.isAuth,users:(0,K.Rf)(e)}}),(function(e){return{addMyNewMessageAC:function(s){return e((0,W.lA)(s))},onDelClickCallback:function(s){return e((0,W._W)(s))},setMyNewMessageAC:function(s){return e((0,W.tm)(s))},changeMyMessageAC:function(s,a){return e((0,W.We)(s,a))}}}))((0,H.D)(B))}}]);
//# sourceMappingURL=937.58ffeaac.chunk.js.map